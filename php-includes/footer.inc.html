<footer class="center"><div id="copyEmail"><p >Copyright &copy; Chris Wilson 2004</p><p><span class="emailSymbol">@</span><a href="mailto:chris@chriswilsondesign.co.nz">chris@chriswilsondesign.co.nz</a></p></div></footer></div></div>
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="js/javascript.js"></script>
<script src = "//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
        <script>
            var gallery = $('#imageGallery');
             var currentPhoto = $('#imageGallery div.current');
                var currentImage = $('#imageGallery div.current img');
            $( window ).resize(function() {
                getMargin()
            });
            
            function getMargin(currentPhoto, currentImage){
               
                var currentWidth =  currentImage.width()*1.0;
                var currentHeight =  currentImage.height()*1.0;
                
                
               // alert(currentHeight + " " + currentWidth);
                var galleryWidth = gallery.width()*1.0;
                var galleryHeight = gallery.height()*1.0;
                
                //alert(galleryHeight + " " + galleryWidth);
                
                var differenceHeight = galleryHeight - currentHeight;
                var differenceWidth = galleryWidth - currentWidth;
                 //alert(differenceHeight + " 1st " + differenceWidth);
                
                differenceHeight = differenceHeight / 4;
                differenceWidth = differenceWidth / 2;
               // alert(differenceHeight + " " + differenceWidth);
                currentPhoto.css({"margin-left": differenceWidth , "margin-top": differenceHeight });
                
            }
            
            $(function() {
                 var gallery = $('#imageGallery');
                var currentPhoto = $('#imageGallery div.current');
                var currentImage = $('#imageGallery div.current img');
                
               setInterval("rotateImages", 3000);
               $( "#tabs" ).tabs({
                 beforeLoad: function( event, ui ) {
                   ui.jqXHR.fail(function() {
                     ui.panel.html(
                       "Couldn't load this tab. We'll try to fix this as soon as possible.");
                   });
                 },
                 load: function( event, ui ) {
                   
                 }
               });
            });
            function rotateImages() {
                var width = $("#tabs").width()*1.0;
                var height = $("#tabs").height()*1.0;
                
                var gallery = $('#imageGallery');
                var currentPhoto = $('#imageGallery div.current');
                
                 var galleryWidth = gallery.width()*1.0;
                var galleryHeight = gallery.height()*1.0;
                
                var nextPhoto = currentPhoto.next();                
              var nextImage, nextDiv, h1Height;
                if (nextPhoto.length === 0){
                    nextPhoto = $('#imageGallery div:first');
                    nextImage = $('#imageGallery div:first img');
                    h1Height = $('#imageGallery div:first h1');
                    nextDiv = nextPhoto;
                } else {
                    nextImage = $(".current ~ div:first img");
                     nextDiv = $(".current ~ div:first");
                     h1Height = $(".current ~ div:first h1").height();
                }
                getMargin(nextPhoto, nextImage);
            
               if (width< 230) {
                    var prevSrc = nextImage.attr("src");
                    var array = prevSrc.split("/");
                    var file = "img-small/" + array[1];
                    nextImage.attr("src", file);
                } 
                
                
                currentPhoto.removeClass('current').addClass('previous');
                
                nextPhoto.css({ opacity: 0.0 }).addClass('current').animate({ opacity: 1.0 }, 1000, function() {
                    currentPhoto.removeClass('previous');
                });
            }
        </script>
</body></html>